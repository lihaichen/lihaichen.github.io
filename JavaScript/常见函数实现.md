## new 实现
### 描述
执行new Foo()操作过程：
1. 一个继承自 Foo.prototype 的新对象被创建。
2. 执行Foo函数 ，并将 this 绑定到新创建的对象。传入默认参数。
3. 返回对象, 如果构造的不是对象，返回步骤1的对象。

```
function _new()
{
    var args = Array.prototype.slice.call(arguments);
    var constructor = args.shift();
    var context = Object.create(constructor.prototype);
    var result = constructor.call(context, args);
    return (typeof result === 'object' && result != null) ? result : context;
}

function func(name,age)
{
    this.name = name;
    this.age = age;
}

var obj1 = new func('lhc','30');
var obj2 = _new(func,'lhc',30);

obj1 instanceof func
obj2 instanceof func
obj1.__proto__ === obj2.__proto__
obj1.constructor === obj2.constructor

```
### 参考：
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new
https://wangdoc.com/javascript/oop/new.html

- bind 实现

- Object.cteate 实现

Object.create 支持2个参数，一个继承对象的原型，另外一个是需要添加属性的描述（值、是否可写、是否枚举、是否可配置）。可以通过Object.getOwnPropertyDescriptor 获取到。


```
if (typeof Object.create !== 'function') {
  Object.create = function (obj) {
    function F() {}
    F.prototype = obj;
    return new F();
  };
}
```
### 参考：
https://wangdoc.com/javascript/oop/object.html
https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create

- Object.assign

- 对象复制
1. 对象的浅复制

```
function copyObject(orig) {
  var copy = Object.create(Object.getPrototypeOf(orig));
  copyOwnPropertiesFrom(copy, orig);
  return copy;
}

function copyOwnPropertiesFrom(target, source) {
  Object
    .getOwnPropertyNames(source)
    .forEach(function (propKey) {
      var desc = Object.getOwnPropertyDescriptor(source, propKey);
      Object.defineProperty(target, propKey, desc);
    });
  return target;
}
```

```
ES2017

function copyObject(orig) {
  return Object.create(
    Object.getPrototypeOf(orig),
    Object.getOwnPropertyDescriptors(orig)
  );
}
```

### 参考：
https://wangdoc.com/javascript/oop/object.html
